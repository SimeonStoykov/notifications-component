{"version":3,"sources":["api.js","components/Notification/Notification.js","components/NotificationsList/NotificationsList.js","App.js","serviceWorker.js","index.js","images/info.png","images/promo.png","images/bonus.png"],"names":["chaos","register","faker","id","random","number","min","max","type","title","lorem","sentence","text","expires","requirement","arrayElement","image","link","internet","url","listen","delay","Notification","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handlePromoNotificationCLick","bind","assertThisInitialized","window","open","notification","data","_this$props$data","key","react_default","a","createElement","className","src","infoImg","alt","width","_this$props$data2","notificationIndex","onClick","promoImg","_this$props$data3","bonusImg","Component","NotificationsList","state","notifications","notificationsCount","listIsVisible","startedTimeouts","showHideList","startNotificationExpireTimeout","setWrapperRef","handleOutsidePopupClick","handleEscPress","_this2","document","addEventListener","WebSocket","onmessage","e","newNotification","JSON","parse","console","log","setState","prevState","toConsumableArray","indexOfNotification","findIndex","el","assign","push","alreadyStartedTimeoutIndex","clearTimeout","timeout","filter","removeEventListener","node","wrapperRef","event","contains","target","_this3","newTimeout","setTimeout","idToRemove","notificationsCountText","toString","notificationsCountClass","ref","react_transition_group","map","index","classNames","Notification_Notification_Notification","App","Fragment","components_NotificationsList_NotificationsList","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.b1a453b8.chunk.js","sourcesContent":["import chaos from 'chaosocket';\r\n\r\nconst MIN_EXPIRE = 20000;\r\nconst MAX_EXPIRE = 60000;\r\n\r\nchaos.register(faker => {\r\n    return {\r\n        id: faker.random.number({\r\n            min: 1,\r\n            max: 20\r\n        }),\r\n        type: 'text',\r\n        title: faker.lorem.sentence(),\r\n        text: faker.lorem.sentence(),\r\n        expires: null\r\n    };\r\n}, 'low');\r\n\r\nchaos.register(faker => {\r\n    return {\r\n        id: faker.random.number({\r\n            min: 21,\r\n            max: 40\r\n        }),\r\n        type: 'bonus',\r\n        title: faker.lorem.sentence(),\r\n        requirement: faker.lorem.sentence(),\r\n        expires: faker.random.arrayElement([faker.random.number({ min: MIN_EXPIRE, max: MAX_EXPIRE }), null])\r\n    };\r\n}, 'low');\r\n\r\nchaos.register(faker => {\r\n    return {\r\n        id: faker.random.number({\r\n            min: 41,\r\n            max: 60\r\n        }),\r\n        type: 'promotion',\r\n        image: faker.image.image(),\r\n        title: faker.lorem.sentence(),\r\n        link: faker.internet.url(),\r\n        expires: faker.random.arrayElement([faker.random.number({ min: MIN_EXPIRE, max: MAX_EXPIRE }), null])\r\n    };\r\n}, 'low');\r\n\r\nchaos.register(faker => {\r\n    return {\r\n        id: faker.random.number({\r\n            min: 1,\r\n            max: 60\r\n        }),\r\n        type: 'remove-notification'\r\n    };\r\n}, 'low');\r\n\r\nchaos.listen({\r\n    delay: 5000\r\n});","import React, { Component } from 'react';\r\nimport './Notification.css';\r\nimport infoImg from '../../images/info.png';\r\nimport promoImg from '../../images/promo.png';\r\nimport bonusImg from '../../images/bonus.png';\r\n\r\nexport default class Notification extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handlePromoNotificationCLick = this.handlePromoNotificationCLick.bind(this);\r\n    }\r\n\r\n    handlePromoNotificationCLick(link) {\r\n        window.open(link);\r\n    }\r\n\r\n    render() {\r\n        let notification = null;\r\n\r\n        switch (this.props.data.type) {\r\n            case 'text': {\r\n                let { key, title, text } = this.props.data;\r\n                notification =\r\n                    <div key={key} className=\"notification-wrapper\">\r\n                        <img src={infoImg} alt=\"Info\" width=\"25\" />\r\n                        <h4 className=\"text-title\">{title}</h4>\r\n                        <p>{text}</p>\r\n                    </div>;\r\n            }\r\n                break;\r\n            case 'promotion': {\r\n                let { title, image, link } = this.props.data;\r\n\r\n                notification =\r\n                    <div key={this.props.notificationIndex} className=\"notification-wrapper cursor-pointer\" onClick={this.handlePromoNotificationCLick.bind(this, link)}>\r\n                        <img src={promoImg} alt=\"Promo\" width=\"25\" />\r\n                        <h4 className=\"text-title\">{title}</h4>\r\n                        <img src={image} alt=\"\" title=\"Promotion\" className=\"loading promo-img\" />\r\n                    </div>;\r\n            }\r\n                break;\r\n            case 'bonus': {\r\n                let { key, title, requirement } = this.props.data;\r\n                notification =\r\n                    <div key={key} className=\"notification-wrapper\">\r\n                        <img src={bonusImg} alt=\"Bonus\" width=\"25\" />\r\n                        <h4 className=\"text-title\">{title}</h4>\r\n                        <p>{requirement}</p>\r\n                    </div>;\r\n            }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return notification;\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport '../../api';\r\nimport './NotificationsList.css';\r\nimport Notification from '../Notification/Notification';\r\n\r\nimport {\r\n    CSSTransition,\r\n    TransitionGroup\r\n} from 'react-transition-group';\r\n\r\nclass NotificationsList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.showHideList = this.showHideList.bind(this);\r\n        this.startNotificationExpireTimeout = this.startNotificationExpireTimeout.bind(this);\r\n        this.setWrapperRef = this.setWrapperRef.bind(this);\r\n        this.handleOutsidePopupClick = this.handleOutsidePopupClick.bind(this);\r\n        this.handleEscPress = this.handleEscPress.bind(this);\r\n    }\r\n\r\n    state = {\r\n        notifications: [],\r\n        notificationsCount: 0,\r\n        listIsVisible: false,\r\n        startedTimeouts: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('mousedown', this.handleOutsidePopupClick);\r\n        document.addEventListener('keydown', this.handleEscPress);\r\n        const socket = new WebSocket('ws://127.0.0.1:8888');\r\n\r\n        socket.onmessage = e => {\r\n            const newNotification = JSON.parse(e.data);\r\n\r\n            console.log(newNotification);\r\n\r\n            if (newNotification.type !== 'remove-notification') {\r\n                this.setState(prevState => {\r\n                    let notifications = [...prevState.notifications];\r\n                    let notificationsCount = prevState.notificationsCount;\r\n                    let indexOfNotification = notifications.findIndex(el => el.id === newNotification.id);\r\n\r\n                    // The notification is old and we update it\r\n                    if (indexOfNotification !== -1) {\r\n                        notifications[indexOfNotification] = Object.assign(notifications[indexOfNotification], newNotification);\r\n                    } else { // The notification is new and we add it\r\n                        notifications.push(newNotification);\r\n                        notificationsCount = newNotification.type !== 'bonus' ? notificationsCount + 1 : notificationsCount;\r\n                    }\r\n\r\n                    return { notifications, notificationsCount };\r\n                }, () => {\r\n                    let alreadyStartedTimeoutIndex = this.state.startedTimeouts.findIndex(el => el.id === newNotification.id);\r\n\r\n                    if (newNotification.expires) {\r\n                        if (alreadyStartedTimeoutIndex !== -1) {\r\n                            clearTimeout(this.state.startedTimeouts[alreadyStartedTimeoutIndex].timeout);\r\n                            // We remove the started timeout from the array of started timeouts and start new timeout after that\r\n                            this.setState(prevState => ({ startedTimeouts: prevState.startedTimeouts.filter(el => el.id !== newNotification.id) }), () => {\r\n                                this.startNotificationExpireTimeout(newNotification);\r\n                            });\r\n                        } else {\r\n                            this.startNotificationExpireTimeout(newNotification);\r\n                        }\r\n                    } else {\r\n                        if (alreadyStartedTimeoutIndex !== -1) {\r\n                            clearTimeout(this.state.startedTimeouts[alreadyStartedTimeoutIndex].timeout);\r\n                            this.setState(prevState => ({ startedTimeouts: prevState.startedTimeouts.filter(el => el.id !== newNotification.id) }));\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                this.setState(prevState => {\r\n                    let alreadyStartedTimeoutIndex = prevState.startedTimeouts.findIndex(el => el.id === newNotification.id);\r\n                    let startedTimeouts = prevState.startedTimeouts;\r\n                    let notificationsCount = prevState.notificationsCount;\r\n                    let notifications = prevState.notifications.filter(el => {\r\n                        if (el.id === newNotification.id) {\r\n                            el.type !== 'bonus' && notificationsCount--;\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n\r\n                    if (alreadyStartedTimeoutIndex !== -1) {\r\n                        clearTimeout(prevState.startedTimeouts[alreadyStartedTimeoutIndex].timeout);\r\n                        startedTimeouts = prevState.startedTimeouts.filter(el => el.id !== newNotification.id);\r\n                    }\r\n\r\n                    return { notifications, notificationsCount, startedTimeouts };\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleOutsidePopupClick);\r\n    }\r\n\r\n    setWrapperRef(node) {\r\n        this.wrapperRef = node;\r\n    }\r\n\r\n    showHideList() {\r\n        this.setState(prevState => ({ listIsVisible: !prevState.listIsVisible }));\r\n    }\r\n\r\n    handleOutsidePopupClick(event) {\r\n        if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n            this.setState({ listIsVisible: false });\r\n        }\r\n    }\r\n\r\n    handleEscPress(event) {\r\n        if (event.key === 'Escape') {\r\n            this.setState({ listIsVisible: false });\r\n        }\r\n    }\r\n\r\n    startNotificationExpireTimeout(newNotification) {\r\n        let newTimeout = setTimeout(idToRemove => {\r\n            this.setState(prevState => {\r\n                let notificationsCount = prevState.notificationsCount;\r\n                let notifications = prevState.notifications.filter(el => {\r\n                    if (el.id === idToRemove) {\r\n                        el.type !== 'bonus' && notificationsCount--;\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n                return {\r\n                    notifications,\r\n                    startedTimeouts: prevState.startedTimeouts.filter(el => el.id !== idToRemove),\r\n                    notificationsCount\r\n                }\r\n            });\r\n        }, newNotification.expires, newNotification.id);\r\n\r\n        this.setState(prevState => {\r\n            let startedTimeouts = [...prevState.startedTimeouts];\r\n            startedTimeouts.push({\r\n                id: newNotification.id,\r\n                timeout: newTimeout\r\n            });\r\n\r\n            return { startedTimeouts };\r\n        });\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state.notifications);\r\n        let notificationsCountText = this.state.notificationsCount.toString();\r\n        let notificationsCountClass = 'notifications-count';\r\n\r\n        if (this.state.notificationsCount > 99) {\r\n            notificationsCountText = '99+';\r\n            notificationsCountClass += ' font-13';\r\n        }\r\n\r\n        return (\r\n            <div className=\"notifications\" ref={this.setWrapperRef}>\r\n                <div className=\"notifications-icon\" onClick={this.showHideList}>\r\n                    <i className=\"fas fa-bell bell-icon\"></i>\r\n                    {this.state.notificationsCount > 0 && <div className={notificationsCountClass}>{notificationsCountText}</div>}\r\n                </div>\r\n                {\r\n                    this.state.listIsVisible &&\r\n                    <div className=\"notifications-list-popup\">\r\n                        <div className=\"arrow-up\"></div>\r\n                        <div className=\"notifications-list-title\">Notifications</div>\r\n                        <div className=\"notifications-list\">\r\n                            <TransitionGroup>\r\n                                {\r\n                                    this.state.notifications.map((el, index) =>\r\n                                        <CSSTransition key={index} timeout={1000} classNames=\"animated-notification\">\r\n                                            <Notification key={index} notificationIndex={index} data={el} />\r\n                                        </CSSTransition>\r\n                                    )\r\n                                }\r\n                            </TransitionGroup>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotificationsList;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport NotificationsList from './components/NotificationsList/NotificationsList';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <header className=\"app-header\">\r\n          <div className=\"app-title\">Notifications Component</div>\r\n          <NotificationsList />\r\n        </header>\r\n        <div className=\"page-content\"></div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n\r\n              // Execute callback\r\n              if (config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALoSURBVGhD7drLy01RHMbx4xomFMoIEwYuE5eJhAliIAP3UkwkFP4AknIptxFhIDIxEgq5DGRKFANKkrtyjXLJ9fsM1Gnv55x3r7X32u/p7X3qM3lba++9zr6t9dtvozc9OGOwFsdxA6/wGX/xCx/wEOewG/MwBB2R4diKO9ABh/qKM1iAPqg9I3AAX+AOMMZ9LEctA9JO1kOXiTuYKtzERCTLSFyB23nVvmETKo9+oedwO03pFAagkkzHe7gd1eEiBqFUJiPl/VDUefRDVHRPVHE56Xr/k/lbjEMIjp5Ol+E2WNQzzIV+yaHYCdeuKP0YixEUPWLdxkLMQDYn4doW9Q56CReKLqmy94WmJy6L4NqH0BSoUPTGdhsI8QnuDb0Srn2I3xiPttFpq2rasRrN6Qu9tV3bUCfQNpoAuo4xvmMHpmE+rsO1i6FtD0PL3IXr2InWwWYsXIdOdQk2a+A6dCrdy3YedgyuQygtlm4bWh269mVMQS5VPVHuwWUmXPsy9DjP5QVc41CPMBUT0JwUA9mOXP4XCqqSPTMpBrIfubiGZdQxkCPI5Sdc41h1DOQwcvkI1zhWHQPZg1wewDWOVcdANiMXLSdd41h1DGQhctkF1zhWHQMZjVxUi3WNY6UeyGPYqKCsQoHrFCP1QI6iZVRQdp1ipB7IbLSMbh7XKUbKgTyBVpwto3W2quKuc6iUA9mILrMCrnNRWidcQ7baMQn6+y24fkVpcjsYXUZnpcyUPnsmsil7ZlahcFR91wLfbagrT7G0jW1w/Yq4iuBsgNtYd3mDUYjKabiN1u0H5iA6A3EBbuN10RfhZSgdfWQ5C7eT1HSfLkFl0aeBg6jiO0dRrzELSaLvE2/hdlwlPZ2ib+yiUaFbLztVxd1BlPESQe+JKjIOqorHvm+aae6kaUfpj55loqq4CsqqxYZ8ktB6QtVNzWLbTgC7I/2h4pwqgCqe7YMOVtWOvdgC/d+JXdn1puek0fgH833yehxf1ckAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALESURBVGhD7dlLqA5hHMfx17VIFlKccsklJWxIR7mUkq0NG5QiRS6hyOYsSFiwEiVZEDsWhJQVsbRgITbCkkhuIbfv7+itp6f/O/PM80xzqfdXnzrvnDP/8/zPmXnmmZlOP/0EZQpu4jvOaEMbMwFP8dexEK3LRbhNyBBalXXwm5AbaE2m4z2sRl6iFRmF+7CakD8Yg8bnHKwGXNPQ6ByBNXDfUjQyOlQuwBq0RRNB47IAD2ENuJfNaEym4iR+wBpslp2oNeOwBlcR00DXIURlEmYHmAFlLJZBx/IuHIemVK2XrIEVpUkhOJrPD+AVrGKW11AWwfp+WU4hKCNwDVaRLFU1omtNULbDKpCncY08hlUgT+MaiT0pq2pEy3tFM+CW/1/asXYOUVUjmr6VjdDnw8OfjPg7hqqrkZ+YpQ1+/B1D1dWI7NUGP+5ORdTZyAlt8OPuVESdjWzVBj8f4e4Yqq5G3mGiNvi5Dn/nEFU1cgmKlvOfsHL4k5HFiFmdVtVI94KoZ1y6HcjMenyDVaiXqhsJjpblx3AL9wJ0j925eI7PsAaSqnAjZWQ85kFLCR3bb2ANrojTiMoAtK7JswJ50S3CWtyFnlFZA82jG7WohB7zb1EkS/AEVq0sPddWIdGjSquoS9efotFtsf7CRf47+xAdvZuwirp+Izbb8AtWXd8ORGcDrKK+0YjNJoT8Z3RpiI7eHFlFffq5lByFVde1Gkl5Aauwaz5SMhJZT+Ml9Xd0rsAq7NI0nJo5+AKrvkxGUvbDKuxKOhGd7IZV/wOSswpWcdcd6KKXGtV4AL/+IyRHb1k1xfrFfVqflRGdC1/h1g5+ypiXZ3ALWzSFLkcZ0ZTsXl/0TLmUXIY76F40MZQVreHOQudNadkDa+A+Pa1sdGYi5O7xNhqfg8haSuiY1lK9FRmEVq3nPdrW2Leu/VSfTucfA3LUV6Hac+AAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARNSURBVGhD7dlZqFVVGMDxm6UNaiY92GAWFmJzlGWhRUVE9uCDDykqNJiNVlAUFlEk1UMiNmFFBZkgVDb3YCbNUQ9BJBZFBU1mA81ms/r/X1yx3H37nH0c9j7C/eBH3n3W3q2z917f+tY6PX3RF9tPjMQ1eBlf4m+swYdYjLOwK7o29sJ9sOPr2/gM52EHdFUci1WIOt3KI+iapzMWvyHq6D/4Ab9kx4pewgA0GvtgNaIOagWM8Yg+T+5Fo7EIUcf0Lx6DcRi+R9QuGYdGws7Z2ahT38Jxk8fOeAhRe72CRuIWRB3SBTCm4jk8gGHwy3yC6ByNQO3xLqLOyLlkJ/yVHbsbQ/FgdqxoFmqPPxB1RkfDeBbrELWJ3IFaY09EHUkeRprs9oWv2hMwHUftkyWoNQYh6kjOwTsJuyPFofgKUXtZwtQeZZPcn3BAp/nFkmU5JsK4CMVzknmoPV5F1JkfYZyI/Lj1lXEq8uO5aag9rkLUGTnHOEacMJ1r1uJqGGXnmeHMarWH1a7ledQpS/jBMHZBGvgHoqykaWR8pJiDqFP6HOkp7I0F+BVRW1P5AWgsdsNbiDqnj3AMZmTHIiaAxsN54mNEHazidnRNOEG+iKijZUzLl6Hroh+m41NEHU8sWZzlD0Zj4ULqBJyGk7A/iuEXcm1xKx7F63gelvCXYDiK4RN18eW1rRq2SRyF2/A+ojv8De7BKHQaR+Ap5IWlc86dSCnb8t92A3v/6jDcEDgbrTJS0e+4HFV2Rrzr8xHtuLwG5xufuP9Ox52zUjpvG+Z7F0ztlqWt2MFWYSH5BYrn+SSc9feDi7Hi5/oZvobeLL/s/+aeI+E7bMEXXaBT7m+5GszD/6nrk6i9T340TBbuukRtLDxdsJ0L67Z0/Bn0R+87mp+wtfhU78Ip8P12DW+69YlZg1nme4evg0nkcUTXscq+EC6DTRpRG3cvS8uGrcmx8DYW4kZ45x3AO+JwmDCi85bBzOiu5E8bj0Xcou3NENGHdXBzbghM0flxn9RMWDWUjZfEjHcceg5C2bZOHa6H80v6eykc8K3GS8756r8oez/rYFXsO+6rY3Hp8qDKuHX9PxubpPvjETWuyizyDtptLhS5mDoZU+CM73+/Q9Q29x7scxhvIjqpCtOqWckcfzqcD7zTligvBMw+9yN1xlfJttG1cyaNm1FM7ZuEjzc6uRNmwDfgpvQNuBRuBUX8zPHxNPKNvDI+ccultuHOoAuh6CJNcvXoF7Z/lcMJK7pYU3zdD0HHYTHndk500Tr5w9GVcMLc7JiL4oU/wMVwEK/ceGxbcQfGuW2Lwwo4FY9mCavhPEu4cJoMf6UtdmJLWFN5s6osAyrHTbBsGNP7VxwOvvORV6Kby9m8kd9G8vBpXYGvEXWyFUuQc9BVYaK4FlWTxZPwNe7a2APuQJb97m55cQa2mzB1ToCTmTO9VeqZ6Ghi64u+aDR6ejYAzDPJM6b7GDoAAAAASUVORK5CYII=\""],"sourceRoot":""}