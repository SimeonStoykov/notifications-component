(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1007:function(t,e,i){"use strict";i.r(e);var n=i(0),a=i.n(n),o=i(10),s=i.n(o),r=(i(26),i(2)),c=i(3),u=i(6),l=i(4),m=i(5),d=(i(28),i(11)),A=i(1),f=i(7),p=i.n(f);p.a.register(function(t){return{id:t.random.number({min:1,max:10}),type:"text",title:t.lorem.sentence(),text:t.lorem.sentence(),expires:t.random.arrayElement([t.random.number({min:1e4,max:3e4}),null])}},"low"),p.a.register(function(t){return{id:t.random.number({min:11,max:20}),type:"bonus",title:t.lorem.sentence(),requirement:t.lorem.sentence(),expires:t.random.arrayElement([t.random.number({min:1e4,max:3e4}),null])}},"low"),p.a.register(function(t){return{id:t.random.number({min:21,max:30}),type:"promotion",image:t.image.image(),title:t.lorem.sentence(),link:t.internet.url(),expires:t.random.arrayElement([t.random.number({min:1e4,max:3e4}),null])}},"low"),p.a.register(function(t){return{id:t.random.number({min:1,max:30}),type:"remove-notification"}},"low"),p.a.listen({delay:5e3});i(995),i(997);var h=i(18),b=i.n(h),E=i(19),w=i.n(E),k=i(20),v=i.n(k),O=function(t){function e(t){var i;return Object(r.a)(this,e),(i=Object(u.a)(this,Object(l.a)(e).call(this,t))).handlePromoNotificationCLick=i.handlePromoNotificationCLick.bind(Object(A.a)(Object(A.a)(i))),i}return Object(m.a)(e,t),Object(c.a)(e,[{key:"handlePromoNotificationCLick",value:function(t){window.open(t)}},{key:"render",value:function(){var t=null;switch(this.props.data.type){case"text":var e=this.props.data,i=e.id,n=e.title,o=e.text;t=a.a.createElement("div",{key:i,className:"notification-wrapper"},a.a.createElement("img",{src:b.a,alt:"Info",width:"25"}),a.a.createElement("h4",{className:"text-title"},n),a.a.createElement("p",null,o));break;case"promotion":var s=this.props.data,r=s.id,c=s.title,u=s.image,l=s.link;t=a.a.createElement("div",{key:r,className:"notification-wrapper cursor-pointer",onClick:this.handlePromoNotificationCLick.bind(this,l)},a.a.createElement("img",{src:w.a,alt:"Promo",width:"25"}),a.a.createElement("h4",{className:"text-title"},c),a.a.createElement("img",{src:u,alt:"",title:"Promotion",className:"loading promo-img"}));break;case"bonus":var m=this.props.data,d=m.id,A=m.title,f=m.requirement;t=a.a.createElement("div",{key:d,className:"notification-wrapper"},a.a.createElement("img",{src:v.a,alt:"Bonus",width:"25"}),a.a.createElement("h4",{className:"text-title"},A),a.a.createElement("p",null,f))}return t}}]),e}(n.Component),N=i(9),x=function(t){function e(t){var i;return Object(r.a)(this,e),(i=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={notifications:[],notificationsCount:0,listIsVisible:void 0,startedTimeouts:[]},i.showHideList=i.showHideList.bind(Object(A.a)(Object(A.a)(i))),i.startNotificationExpireTimeout=i.startNotificationExpireTimeout.bind(Object(A.a)(Object(A.a)(i))),i.setWrapperRef=i.setWrapperRef.bind(Object(A.a)(Object(A.a)(i))),i.handleOutsidePopupClick=i.handleOutsidePopupClick.bind(Object(A.a)(Object(A.a)(i))),i.handleEscPress=i.handleEscPress.bind(Object(A.a)(Object(A.a)(i))),i}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("mousedown",this.handleOutsidePopupClick),document.addEventListener("keydown",this.handleEscPress),new WebSocket("ws://127.0.0.1:8888").onmessage=function(e){var i=JSON.parse(e.data);"remove-notification"!==i.type?t.setState(function(t){var e=Object(d.a)(t.notifications),n=t.notificationsCount,a=e.findIndex(function(t){return t.id===i.id});return-1!==a?e[a]=Object.assign(e[a],i):(e.unshift(i),n="bonus"!==i.type?n+1:n),{notifications:e,notificationsCount:n}},function(){var e=t.state.startedTimeouts.findIndex(function(t){return t.id===i.id});i.expires?-1!==e?(clearTimeout(t.state.startedTimeouts[e].timeout),t.setState(function(t){return{startedTimeouts:t.startedTimeouts.filter(function(t){return t.id!==i.id})}},function(){t.startNotificationExpireTimeout(i)})):t.startNotificationExpireTimeout(i):-1!==e&&(clearTimeout(t.state.startedTimeouts[e].timeout),t.setState(function(t){return{startedTimeouts:t.startedTimeouts.filter(function(t){return t.id!==i.id})}}))}):t.setState(function(t){var e=t.startedTimeouts.findIndex(function(t){return t.id===i.id}),n=t.startedTimeouts,a=t.notificationsCount,o=t.notifications.filter(function(t){return t.id!==i.id||("bonus"!==t.type&&a--,!1)});return-1!==e&&(clearTimeout(t.startedTimeouts[e].timeout),n=t.startedTimeouts.filter(function(t){return t.id!==i.id})),{notifications:o,notificationsCount:a,startedTimeouts:n}})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleOutsidePopupClick)}},{key:"setWrapperRef",value:function(t){this.wrapperRef=t}},{key:"showHideList",value:function(){this.setState(function(t){return{listIsVisible:!t.listIsVisible}})}},{key:"handleOutsidePopupClick",value:function(t){this.wrapperRef&&!this.wrapperRef.contains(t.target)&&this.state.listIsVisible&&this.setState({listIsVisible:!1})}},{key:"handleEscPress",value:function(t){"Escape"===t.key&&this.state.listIsVisible&&this.setState({listIsVisible:!1})}},{key:"startNotificationExpireTimeout",value:function(t){var e=this,i=setTimeout(function(t){e.setState(function(e){var i=e.notificationsCount;return{notifications:e.notifications.filter(function(e){return e.id!==t||("bonus"!==e.type&&i--,!1)}),startedTimeouts:e.startedTimeouts.filter(function(e){return e.id!==t}),notificationsCount:i}})},t.expires,t.id);this.setState(function(e){var n=Object(d.a)(e.startedTimeouts);return n.push({id:t.id,timeout:i}),{startedTimeouts:n}})}},{key:"getNotificationsList",value:function(){return 0===this.state.notifications.length?a.a.createElement(N.TransitionGroup,null,a.a.createElement(N.CSSTransition,{timeout:0,classNames:"animated-no-notifications"},a.a.createElement("div",{className:"no-notifications"},"There are no notifications!"))):a.a.createElement(N.TransitionGroup,null,this.state.notifications.map(function(t){return a.a.createElement(N.CSSTransition,{key:t.id,timeout:1e3,classNames:"animated-notification"},a.a.createElement(O,{key:t.id,data:t}))}))}},{key:"render",value:function(){var t=this.state.notificationsCount.toString(),e="notifications-count";return this.state.notificationsCount>99&&(t="99+",e+=" font-13"),a.a.createElement("div",{className:"notifications",ref:this.setWrapperRef},a.a.createElement("div",{className:"notifications-icon",onClick:this.showHideList},a.a.createElement("i",{className:"fa fa-bell bell-icon"}),this.state.notificationsCount>0&&a.a.createElement("div",{className:e},t)),void 0!==this.state.listIsVisible&&a.a.createElement("div",{className:this.state.listIsVisible?"notifications-list-popup":"notifications-list-popup-closed"},a.a.createElement("div",{className:"arrow-up"}),a.a.createElement("div",{className:"notifications-list-title"},"Notifications"),a.a.createElement("div",{className:"notifications-list"},this.getNotificationsList())))}}]),e}(n.Component),y=function(t){function e(){return Object(r.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:"app-header"},a.a.createElement("div",{className:"app-title"},"Notifications Component"),a.a.createElement(x,null)),a.a.createElement("div",{className:"page-content"}))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},18:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALoSURBVGhD7drLy01RHMbx4xomFMoIEwYuE5eJhAliIAP3UkwkFP4AknIptxFhIDIxEgq5DGRKFANKkrtyjXLJ9fsM1Gnv55x3r7X32u/p7X3qM3lba++9zr6t9dtvozc9OGOwFsdxA6/wGX/xCx/wEOewG/MwBB2R4diKO9ABh/qKM1iAPqg9I3AAX+AOMMZ9LEctA9JO1kOXiTuYKtzERCTLSFyB23nVvmETKo9+oedwO03pFAagkkzHe7gd1eEiBqFUJiPl/VDUefRDVHRPVHE56Xr/k/lbjEMIjp5Ol+E2WNQzzIV+yaHYCdeuKP0YixEUPWLdxkLMQDYn4doW9Q56CReKLqmy94WmJy6L4NqH0BSoUPTGdhsI8QnuDb0Srn2I3xiPttFpq2rasRrN6Qu9tV3bUCfQNpoAuo4xvmMHpmE+rsO1i6FtD0PL3IXr2InWwWYsXIdOdQk2a+A6dCrdy3YedgyuQygtlm4bWh269mVMQS5VPVHuwWUmXPsy9DjP5QVc41CPMBUT0JwUA9mOXP4XCqqSPTMpBrIfubiGZdQxkCPI5Sdc41h1DOQwcvkI1zhWHQPZg1wewDWOVcdANiMXLSdd41h1DGQhctkF1zhWHQMZjVxUi3WNY6UeyGPYqKCsQoHrFCP1QI6iZVRQdp1ipB7IbLSMbh7XKUbKgTyBVpwto3W2quKuc6iUA9mILrMCrnNRWidcQ7baMQn6+y24fkVpcjsYXUZnpcyUPnsmsil7ZlahcFR91wLfbagrT7G0jW1w/Yq4iuBsgNtYd3mDUYjKabiN1u0H5iA6A3EBbuN10RfhZSgdfWQ5C7eT1HSfLkFl0aeBg6jiO0dRrzELSaLvE2/hdlwlPZ2ib+yiUaFbLztVxd1BlPESQe+JKjIOqorHvm+aae6kaUfpj55loqq4CsqqxYZ8ktB6QtVNzWLbTgC7I/2h4pwqgCqe7YMOVtWOvdgC/d+JXdn1puek0fgH833yehxf1ckAAAAASUVORK5CYII="},19:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALESURBVGhD7dlLqA5hHMfx17VIFlKccsklJWxIR7mUkq0NG5QiRS6hyOYsSFiwEiVZEDsWhJQVsbRgITbCkkhuIbfv7+itp6f/O/PM80xzqfdXnzrvnDP/8/zPmXnmmZlOP/0EZQpu4jvOaEMbMwFP8dexEK3LRbhNyBBalXXwm5AbaE2m4z2sRl6iFRmF+7CakD8Yg8bnHKwGXNPQ6ByBNXDfUjQyOlQuwBq0RRNB47IAD2ENuJfNaEym4iR+wBpslp2oNeOwBlcR00DXIURlEmYHmAFlLJZBx/IuHIemVK2XrIEVpUkhOJrPD+AVrGKW11AWwfp+WU4hKCNwDVaRLFU1omtNULbDKpCncY08hlUgT+MaiT0pq2pEy3tFM+CW/1/asXYOUVUjmr6VjdDnw8OfjPg7hqqrkZ+YpQ1+/B1D1dWI7NUGP+5ORdTZyAlt8OPuVESdjWzVBj8f4e4Yqq5G3mGiNvi5Dn/nEFU1cgmKlvOfsHL4k5HFiFmdVtVI94KoZ1y6HcjMenyDVaiXqhsJjpblx3AL9wJ0j925eI7PsAaSqnAjZWQ85kFLCR3bb2ANrojTiMoAtK7JswJ50S3CWtyFnlFZA82jG7WohB7zb1EkS/AEVq0sPddWIdGjSquoS9efotFtsf7CRf47+xAdvZuwirp+Izbb8AtWXd8ORGcDrKK+0YjNJoT8Z3RpiI7eHFlFffq5lByFVde1Gkl5Aauwaz5SMhJZT+Ml9Xd0rsAq7NI0nJo5+AKrvkxGUvbDKuxKOhGd7IZV/wOSswpWcdcd6KKXGtV4AL/+IyRHb1k1xfrFfVqflRGdC1/h1g5+ypiXZ3ALWzSFLkcZ0ZTsXl/0TLmUXIY76F40MZQVreHOQudNadkDa+A+Pa1sdGYi5O7xNhqfg8haSuiY1lK9FRmEVq3nPdrW2Leu/VSfTucfA3LUV6Hac+AAAAAASUVORK5CYII="},20:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARNSURBVGhD7dlZqFVVGMDxm6UNaiY92GAWFmJzlGWhRUVE9uCDDykqNJiNVlAUFlEk1UMiNmFFBZkgVDb3YCbNUQ9BJBZFBU1mA81ms/r/X1yx3H37nH0c9j7C/eBH3n3W3q2z917f+tY6PX3RF9tPjMQ1eBlf4m+swYdYjLOwK7o29sJ9sOPr2/gM52EHdFUci1WIOt3KI+iapzMWvyHq6D/4Ab9kx4pewgA0GvtgNaIOagWM8Yg+T+5Fo7EIUcf0Lx6DcRi+R9QuGYdGws7Z2ahT38Jxk8fOeAhRe72CRuIWRB3SBTCm4jk8gGHwy3yC6ByNQO3xLqLOyLlkJ/yVHbsbQ/FgdqxoFmqPPxB1RkfDeBbrELWJ3IFaY09EHUkeRprs9oWv2hMwHUftkyWoNQYh6kjOwTsJuyPFofgKUXtZwtQeZZPcn3BAp/nFkmU5JsK4CMVzknmoPV5F1JkfYZyI/Lj1lXEq8uO5aag9rkLUGTnHOEacMJ1r1uJqGGXnmeHMarWH1a7ledQpS/jBMHZBGvgHoqykaWR8pJiDqFP6HOkp7I0F+BVRW1P5AWgsdsNbiDqnj3AMZmTHIiaAxsN54mNEHazidnRNOEG+iKijZUzLl6Hroh+m41NEHU8sWZzlD0Zj4ULqBJyGk7A/iuEXcm1xKx7F63gelvCXYDiK4RN18eW1rRq2SRyF2/A+ojv8De7BKHQaR+Ap5IWlc86dSCnb8t92A3v/6jDcEDgbrTJS0e+4HFV2Rrzr8xHtuLwG5xufuP9Ox52zUjpvG+Z7F0ztlqWt2MFWYSH5BYrn+SSc9feDi7Hi5/oZvobeLL/s/+aeI+E7bMEXXaBT7m+5GszD/6nrk6i9T340TBbuukRtLDxdsJ0L67Z0/Bn0R+87mp+wtfhU78Ip8P12DW+69YlZg1nme4evg0nkcUTXscq+EC6DTRpRG3cvS8uGrcmx8DYW4kZ45x3AO+JwmDCi85bBzOiu5E8bj0Xcou3NENGHdXBzbghM0flxn9RMWDWUjZfEjHcceg5C2bZOHa6H80v6eykc8K3GS8756r8oez/rYFXsO+6rY3Hp8qDKuHX9PxubpPvjETWuyizyDtptLhS5mDoZU+CM73+/Q9Q29x7scxhvIjqpCtOqWckcfzqcD7zTligvBMw+9yN1xlfJttG1cyaNm1FM7ZuEjzc6uRNmwDfgpvQNuBRuBUX8zPHxNPKNvDI+ccultuHOoAuh6CJNcvXoF7Z/lcMJK7pYU3zdD0HHYTHndk500Tr5w9GVcMLc7JiL4oU/wMVwEK/ceGxbcQfGuW2Lwwo4FY9mCavhPEu4cJoMf6UtdmJLWFN5s6osAyrHTbBsGNP7VxwOvvORV6Kby9m8kd9G8vBpXYGvEXWyFUuQc9BVYaK4FlWTxZPwNe7a2APuQJb97m55cQa2mzB1ToCTmTO9VeqZ6Ghi64u+aDR6ejYAzDPJM6b7GDoAAAAASUVORK5CYII="},21:function(t,e,i){t.exports=i(1007)},26:function(t,e,i){},28:function(t,e,i){},995:function(t,e,i){},997:function(t,e,i){}},[[21,2,1]]]);
//# sourceMappingURL=main.f6118de6.chunk.js.map